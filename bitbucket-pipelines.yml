pipelines:
    branches:
      master:
        - step:
            name: Sync GitHub Mirror
            image: alpine/git:latest
            clone:
                enabled: false
            script:
                - git clone git@bitbucket.org:linn_systems/linn_public_api_specs.git --branch master
                - cd linn_public_api_specs
                - ls -l
                - rm -rf bitbucket-pipelines.yml
                - ls -l
                - git add --all
                - git -c user.name='LinnSystems' -c user.email=team-devops@linnworks.com commit -m "API docs updated"
                - git push --force git@github.com:LinnSystems/PublicApiSpecs.git master:main
        - step:
            name: Readme API sync
            image: node:20.10.0
            clone:
                enabled: false
            script:
                - git clone git@bitbucket.org:linn_systems/linn_public_api_specs.git --branch master
                - cd linn_public_api_specs
                - rm -rf bitbucket-pipelines.yml
                - npx rdme@v9 openapi '1.0/auth.json' --key=$key --id=6426d7969d2372003575eeed
                - npx rdme@v9 openapi '1.0/dashboards.json' --key=$key --id=645b965ee0f2960acb847481
                - npx rdme@v9 openapi '1.0/email.json' --key=$key --id=645bae620b0c650ab6a09182
                - npx rdme@v9 openapi '1.0/genericlistings.json' --key=$key --id=6464e9b6184fd9013a81af12
                - npx rdme@v9 openapi '1.0/importexport.json' --key=$key --id=64634e380dccda005a740517
                - npx rdme@v9 openapi '1.0/inventory.json' --key=$key --id=65bb59d3e0fef30031a0e585
                - npx rdme@v9 openapi '1.0/listings.json' --key=$key --id=646b2d18f8d2410013e02986
                - npx rdme@v9 openapi '1.0/locations.json' --key=$key --id=645b76cc511cd111e76d6039
                - npx rdme@v9 openapi '1.0/macro.json' --key=$key --id=6454fb0267be7d1325fdea68
                - npx rdme@v9 openapi '1.0/openorders.json' --key=$key --id=64527483b78798006ffc759f
                - npx rdme@v9 openapi '1.0/orders.json' --key=$key --id=645b79922f68af1d0b08fefc
                - npx rdme@v9 openapi '1.0/picking.json' --key=$key --id=6464949a0c297f000b227f40
                - npx rdme@v9 openapi '1.0/postsale.json' --key=$key --id=645386bd51ae010e341ce68a
                - npx rdme@v9 openapi '1.0/postalservices.json' --key=$key --id=645cf4ca59e7a81c99ee340a
                - npx rdme@v9 openapi '1.0/printservice.json' --key=$key --id=64673a39dbf096000a92e442
                - npx rdme@v9 openapi '1.0/printzone.json' --key=$key --id=6798d8af809901001de71196
                - npx rdme@v9 openapi '1.0/processedorders.json' --key=$key --id=64550ce5846bfe155ebe97e6
                - npx rdme@v9 openapi '1.0/purchaseorder.json' --key=$key --id=6453a39d8fb51c001f98ea1f
                - npx rdme@v9 openapi '1.0/returnsrefunds.json' --key=$key --id=6451177fc1d61d0295ff3e6f
                - npx rdme@v9 openapi '1.0/rulesengine.json' --key=$key --id=646761576401c9001297cb22
                - npx rdme@v10 openapi upload '1.0/settings.json' --key=$key --legacy-id=6464ef32f238120ff1559a22
                - npx rdme@v9 openapi '1.0/shippingservice.json' --key=$key --id=65ba4872456a390055f59dce
                - npx rdme@v9 openapi '1.0/stock.json' --key=$key --id=643e784d123d7e0025573244
                - npx rdme@v9 openapi '1.0/warehousetransfer.json' --key=$key --id=646605889e893a087456d352
                - npx rdme@v9 openapi '1.0/warehousetransfer-new.json' --key=$key --id=64ae7846fccefe0056422c8d
                - npx rdme@v9 openapi '1.0/wms.json' --key=$key --id=64663af3ed0b0308d428071a
                - npx rdme@v9 openapi '2.0/warehousetransfer-v2.json' --key=$key --id=64ae78db3ff6b10051714af9
                - npx rdme@v9 openapi '2.0/orders-v2.json' --key=$key --id=66acbb6f87ab2600692a235f
                - npx rdme@v9 openapi '2.0/picking-v2.json' --key=$key --id=67a3829277e095afdb7c00f2